# Промт для продолжения больщой задачи в новом чате

## Шаблон

Привет! Мы продолжаем работу над <ФАЙЛ ИЛИ ЗАДАЧА>. Цель – <КАКАЯ?>.

**Ключевые принятые решения:**

1. <ОДИН АБЗАЦ — СКОПИРОВАТЬ ИЗ ПРЕДЫДУЩЕГО ЧАТА>
2. <И Т.Д.>

**<ПРЕДЛОЖЕННАЯ СТРУКТУРА ПАПОК, ЕСЛИ НАДО>:**

```text
path/to/
  file-01.ext
```

**Во вложениях** — <ЧТО?>.

**Мои текущие вопросы перед тем, как мы перейдем к <СЛЕДУЮЩИЙ ШАГ>:**

1. <ПЕРВЫЙ ВОПРОС, ЕСЛИ ЕСТЬ>
2. <И Т.Д.>

Давай сначала разберемся с этими вопросами, а потом перейдем к созданию <СЛЕДУЮЩИЙ ШАГ>.

## Пример

Привет! Мы продолжаем работу над рефакторингом JS для страницы `markets.twig.html`. Цель – разбить большой скрипт на ES-модули и настроить их сборку через Gulp.

**Ключевые принятые решения:**

1. Переводы из Twig передаются в JS через `<script id="js-translations" type="application/json"` и обрабатываются модулем `translations.js` с функцией `t(key)`.
2. Конфигурационные переменные из Twig (например, `assets_prefix`) передаются через объект `window.APP_CONFIG` и читаются в `config.js`.

**Предложенная структура папок:**

```text
src/assets/js
  chart/
    config.js
    handlers.js
    renderer.js
  markets/
    api.js
    config.js
    dom.js
    state.js
    translations.js
    utils.js
  table/
    columns.js
    filters.js
    sort.js
    renderer.js
  markets.js - точка входа
```

**Во вложениях** — исходный шаблон markets.twig.html, а также первые модули, который мы согласовали.

**У меня остались вопросы по предыдущим этапам**. Сначала разберемся с ними перейдем к `markets/dom.js`.

`config.js`. Хочу внести ясность относительно `ASSETS_PATH_PREFIX`. На dev-сервере он должен быть пустым, а все пути — относительными к корню. А на prod-сервере эта переменная, которая передается в Twig из контроллера, содержит часть пути к папке, отличающегося от пути на dev-сервере.

То есть такой путь в шаблоне `src="{{ site.assets_prefix }}/assets/img/cryptologos/btc.svg"`

- на dev-сервере станет `src="/assets/img/cryptologos/btc.svg"`
- а на prod-сервере, например, такой — `src="/path/to/assets/img/cryptologos/btc.svg"`
